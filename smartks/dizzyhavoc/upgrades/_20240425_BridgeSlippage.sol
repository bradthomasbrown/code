// SPDX-License-Identifier: 0BSD
pragma solidity 0.8.25;

struct U { uint totalSupply; }

contract _20240321_DzhvBridgeableUpgrade {

    mapping(address => uint256) balanceOf;

    event Transfer(address indexed from, address indexed to, uint value);
    event Burn(uint dest, address addr, uint val, uint64 slippage);
    event Mint(address addr, uint val);

    function burn(uint dest, address addr, uint val, uint64 slippage) external {
        U storage u; assembly { u.slot := 0x100000000 }
        u.totalSupply -= val;
        balanceOf[msg.sender] -= val;
        emit Transfer(msg.sender, address(0), val);
        emit Burn(dest, addr, val, slippage);
    }

    function mint(address addr, uint val) external {
        require(msg.sender == 0x01fEfefEfEFefefeFEFefEfefEfeFEfEFeFefEFe // team wallet
            || msg.sender == 0x04fefeFeFEfeFEFeFEFeFefeFEFEfeFEfEfefEFE); // bridge wallet
        U storage u; assembly { u.slot := 0x100000000 }
        u.totalSupply += val;
        balanceOf[addr] += val;
        emit Transfer(address(0), addr, val);
    }

}

6080604052348015600f57600080fd5b506105ec8061001f6000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806340c10f191461003b5780636d55a4ee14610057575b600080fd5b610055600480360381019061005091906103ab565b610073565b005b610071600480360381019061006c919061042b565b6101ee565b005b73?W??????????????????????????????????????73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610100575073?B??????????????????????????????????????73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b61010957600080fd5b600064010000000090508181600001600082825461012791906104c1565b92505081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461017c91906104c1565b925050819055508273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516101e19190610504565b60405180910390a3505050565b600064010000000090508281600001600082825461020c919061051f565b92505081905550826000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610261919061051f565b92505081905550600073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040516102c69190610504565b60405180910390a37f43b32f7454059c3fdd497297f2062ea1e1e0860f6e0b6c9fa8e93f0a0ed9fcdd858585856040516103039493929190610571565b60405180910390a15050505050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061034282610317565b9050919050565b61035281610337565b811461035d57600080fd5b50565b60008135905061036f81610349565b92915050565b6000819050919050565b61038881610375565b811461039357600080fd5b50565b6000813590506103a58161037f565b92915050565b600080604083850312156103c2576103c1610312565b5b60006103d085828601610360565b92505060206103e185828601610396565b9150509250929050565b600067ffffffffffffffff82169050919050565b610408816103eb565b811461041357600080fd5b50565b600081359050610425816103ff565b92915050565b6000806000806080858703121561044557610444610312565b5b600061045387828801610396565b945050602061046487828801610360565b935050604061047587828801610396565b925050606061048687828801610416565b91505092959194509250565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006104cc82610375565b91506104d783610375565b92508282019050808211156104ef576104ee610492565b5b92915050565b6104fe81610375565b82525050565b600060208201905061051960008301846104f5565b92915050565b600061052a82610375565b915061053583610375565b925082820390508181111561054d5761054c610492565b5b92915050565b61055c81610337565b82525050565b61056b816103eb565b82525050565b600060808201905061058660008301876104f5565b6105936020830186610553565b6105a060408301856104f5565b6105ad6060830184610562565b9594505050505056fea2646970667358221220a9ac2759ace331104ad4c2955edf2f38a07e55973ee576172f0d888241a47ad764736f6c63430008190033